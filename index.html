<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, Papa!</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body, html {
      height: 100%;
      margin: 0;
      background: linear-gradient(135deg, #f9d423, #ff4e50);
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
    }
    .container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
    }
    h1 {
      font-size: 3.5rem;
      font-weight: 900;
      text-shadow: 3px 3px 10px rgba(255,255,255,0.7);
      margin-bottom: 1rem;
      animation: pulse 2s infinite alternate;
    }
    @keyframes pulse {
      0% {
        text-shadow: 3px 3px 10px rgba(255,255,255,0.7);
        color: #fff;
      }
      100% {
        text-shadow: 0 0 20px #fffb00, 0 0 30px #ff7f50;
        color: #fff700;
      }
    }
    #wish-box {
      font-size: 1.75rem;
      font-weight: 600;
      margin: 2rem 0;
      min-height: 4.5rem;
      max-width: 640px;
      line-height: 1.3;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
      user-select: none;
      transition: color 0.6s;
    }
    #new-wish-btn {
      font-weight: 700;
      padding: 0.75rem 2rem;
      font-size: 1.25rem;
      border-radius: 50px;
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.4);
      background: #fff;
      color: #ff4e50;
      transition: background 0.3s, color 0.3s, transform 0.15s ease-in-out;
      user-select: none;
    }
    #new-wish-btn:hover,
    #new-wish-btn:focus {
      background: #ff4e50;
      color: #fff;
      outline: none;
      transform: scale(1.05);
      box-shadow: 0 6px 25px rgba(255, 78, 80, 0.75);
      cursor: pointer;
    }
    #new-wish-btn:active {
      transform: scale(0.95);
    }
    footer {
      margin-top: 3rem;
      font-size: 0.85rem;
      opacity: 0.8;
      text-align: center;
    }
    /* Confetti style */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #ff4e50;
      opacity: 0.8;
      z-index: 1050;
      pointer-events: none;
      will-change: transform, opacity;
      border-radius: 2px;
      animation-timing-function: ease-out;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Happy Birthday, Papa!</h1>
    <div id="wish-box" aria-live="polite" role="region" aria-label="Birthday wishes">
      Wishing you joy, health, and endless happiness today and always.
    </div>
    <button id="new-wish-btn" aria-label="New birthday wish">New Wish</button>
    <footer class="mt-auto">
      &copy; 2024 – Wishing with ❤️
    </footer>
  </div>

  <audio id="birthday-music" loop preload="auto" aria-hidden="true">
    <source src="https://cdn.pixabay.com/download/audio/2022/02/15/audio_9a6690216f.mp3?filename=happy-birthday-14045.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <script>
    (() => {
      const wishes = [
        "Wishing you the happiest birthday, Papa! May all your dreams come true.",
        "To the world's best Papa, Happy Birthday! You deserve all the best today.",
        "Happy Birthday, Papa! Thank you for your endless love and support.",
        "May your birthday be as cheerful and bright as your wonderful smile, Papa!",
        "Cheers to you, Papa! Wishing you a year full of laughter and love.",
        "Happy Birthday, Papa! Here’s to a fantastic day and a brilliant year ahead.",
        "Sending you joyful birthday wishes filled with love and warm hugs, Papa.",
        "Papa, may your birthday be sprinkled with fun, laughter, and lots of cake!",
        "Every day with you is special, but today is extra! Happy Birthday, Papa!",
        "Wishing you health, happiness, and all the good things life can offer, Papa.",
        "Happy Birthday! You make life brighter just by being you, Papa.",
        "May all your birthday wishes come true, Papa, because you deserve the best.",
        "To my hero and role model, Happy Birthday Papa! Love you always.",
        "Papa, your wisdom and kindness inspire us all. Have a wonderful birthday.",
        "Let’s celebrate you today, Papa! Happy Birthday to the best dad ever!"
      ];

      const wishBox = document.getElementById('wish-box');
      const btn = document.getElementById('new-wish-btn');
      const audio = document.getElementById('birthday-music');
      let lastIndex = 0;

      function randomIndexExclude(currentIndex, max) {
        let newIndex = currentIndex;
        while (newIndex === currentIndex) {
          newIndex = Math.floor(Math.random() * max);
        }
        return newIndex;
      }

      function newWish() {
        let idx = randomIndexExclude(lastIndex, wishes.length);
        lastIndex = idx;
        // Animate text color flash
        wishBox.style.color = '#fffb00';
        setTimeout(() => {
          wishBox.style.color = 'white';
        }, 300);
        wishBox.textContent = wishes[idx];
      }

      btn.addEventListener('click', () => {
        newWish();
        playMusic();
        launchConfetti();
      });

      function playMusic() {
        if (audio.paused) {
          audio.play().catch(() => {});
        }
      }

      /* Simple confetti animation */
      const colors = ['#ff4e50', '#fff700', '#ff7f50', '#ffd700', '#ff1493', '#00ffff', '#32cd32'];

      function createConfettiPiece() {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = Math.random() * window.innerWidth + 'px';
        confetti.style.top = '-10px';
        confetti.style.width = confetti.style.height = (10 + Math.random() * 10) + 'px';
        confetti.style.opacity = (0.7 + Math.random() * 0.3);
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        confetti.style.animationName = 'fall';
        confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
        confetti.style.animationDelay = '0s';

        document.body.appendChild(confetti);

        confetti.style.animationTimingFunction = 'cubic-bezier(0.5, 0, 1, 1)';
        confetti.style.animationFillMode = 'forwards';

        setTimeout(() => {
          confetti.remove();
        }, 4000);
      }

      function launchConfetti() {
        for (let i = 0; i < 30; i++) {
          setTimeout(createConfettiPiece, i * 50);
        }
      }

      // keyframes for confetti falling
      const styleSheet = document.createElement("style");
      styleSheet.type = "text/css";
      styleSheet.innerText = `
        @keyframes fall {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(styleSheet);

      // Autoplay music once user interacts (required by some browsers)
      document.body.addEventListener('click', () => {
        playMusic();
      }, {once: true});

    })();
  </script>
</body>
</html>